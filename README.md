# 翻译工具(腾讯混元驱动)

## ⚠️ 重要声明

**本项目不是腾讯的官方产品**，是一个基于混元大模型API的第三方翻译工具。本工具仅供学习和研究使用，与腾讯公司无任何关联。

## 功能特性

- 🌐 **多语言支持**：支持30多种语言互译，包括中文、英语、法语、日语、韩语等
- 🤖 **智能模板选择**：自动根据选择的语言判断使用"中外翻译"或"外外翻译"模板
- ⚡ **实时翻译**：调用混元大模型API进行高质量翻译
- 🔄 **语言交换**：一键交换源语言和目标语言
- 📋 **历史记录**：保存最近10条翻译记录，支持快速复用
- 🎨 **响应式设计**：适配桌面和移动设备
- ⚙️ **可配置API**：支持自定义API地址

## 自动检测规则

工具会根据选择的语言自动选择翻译模板：

1. **中外翻译模板**（当源语言或目标语言包含中文时）：
   ```
   将以下文本翻译为{target_language}，注意只需要输出翻译后的结果，不要额外解释：
   
   {source_text}
   ```

2. **外外翻译模板**（当源语言和目标语言都不含中文时）：
   ```
   Translate the following segment into {target_language}, without additional explanation.
   
   {source_text}
   ```

### 中文语系定义
- `zh`：简体中文
- `zh-Hant`：繁体中文  
- `yue`：粤语

## 安装和运行

### 前提条件
- Node.js 18+
- gguf模型[下载地址](https://modelscope.cn/models/Tencent-Hunyuan/HY-MT1.5-1.8B-GGUF)
- llamacpp依赖(建议添加到环境变量)[下载地址](https://github.com/ggml-org/llama.cpp/releases)

### 安装步骤

1. 克隆项目或下载源代码
2. 安装依赖：
   ```bash
   npm install
   ```
3. 启动开发服务器：
   ```bash
   npm run dev
   ```
4. 在浏览器中打开：http://localhost:8001
5. 运行llamacpp
    ```bash
   #注意替换路径
   #正常运行
   llama-server -m .\HY-MT1.5-1.8B-Q8_0.gguf --top-k 20  --top-p 0.6  --repeat-penalty 1.05  --temp 0.7
   #限制上下文长度（推荐,可以大幅降低内存占用）
   llama-server -m .\HY-MT1.5-1.8B-Q8_0.gguf --top-k 20  --top-p 0.6  --repeat-penalty 1.05  --temp 0.7 -c 1024
    ```

### 构建生产版本
```bash
npm run build
```

## 配置说明

### API地址配置
- 默认API地址：`http://127.0.0.1:8080`
- 可在界面中修改为其他地址

### 翻译模板
- **自动检测模式**：根据选择的语言自动选择模板（默认开启）
- **手动模式**：关闭自动检测后可手动选择"中外翻译"或"外外翻译"模板

## 使用示例

1. **中文到英文翻译**：
   - 源语言：中文 (zh)
   - 目标语言：英语 (en)
   - 自动使用"中外翻译模板"

2. **英文到法文翻译**：
   - 源语言：英语 (en)
   - 目标语言：法语 (fr)
   - 自动使用"外外翻译模板"

3. **日文到中文翻译**：
   - 源语言：日语 (ja)
   - 目标语言：中文 (zh)
   - 自动使用"中外翻译模板"

## 技术栈

- **前端框架**：React + TypeScript
- **UI组件库**：Ant Design
- **构建工具**：Umi 4
- **HTTP客户端**：Axios
- **样式**：Less

## 项目结构

```
fanyi/
├── src/
│   ├── layouts/          # 布局组件
│   ├── pages/           # 页面组件
│   │   └── index.tsx    # 翻译主界面
│   └── assets/          # 静态资源
├── public/              # 公共文件
├── .umirc.ts           # Umi配置
├── package.json        # 项目依赖
└── README.md           # 项目说明
```

## 注意事项

1. **API服务要求**：需要先启动混元大模型API服务，默认监听端口8080
2. **网络连接**：确保前端应用可以访问API服务地址
3. **浏览器兼容**：支持现代浏览器（Chrome 80+, Firefox 75+, Edge 80+）
4. **移动端适配**：界面已做响应式设计，支持手机和平板使用

## 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。

## 免责声明

本工具为第三方开发，使用混元大模型API进行翻译服务。腾讯公司与本工具无隶属、关联、赞助或背书关系。本工具不保证翻译结果的准确性，用户需自行判断翻译质量。 使用本工具即表示您同意自行承担使用风险。


## 问题反馈

如遇到问题，请通过以下方式反馈：

1. 在GitHub仓库中提交Issue
2. 提供详细的问题描述和复现步骤
3. 附上相关截图或错误信息

